function card(a,o,e,l,t,c,s){var r=0==a?"light-green darken-3":"red";$("#main").prepend('<div class="row"><div class="col s12 m6 offset-m3"><div class="card '+r+' hoverable"><div class="card-content white-text"> <span class="card-title">Movimentação #'+o+'</span><div class="row valign-wrapper"><div class="col"><h4>R$'+e+'</h4></div><div class="col"><p>Para '+l+"</p ></div ></div > <p>"+t+"</p> <p>Incluído por <b>"+c+"</b> na categoria <b>"+s+"</b>.</p></div ></div ></div ></div >")}$(document).ready(function(){$("#modalCat a").click(function(){$.post(url+"/usuario/ajax/categoria",{nome:$("#modalCat #nome").val(),desc:$("#modalCat #desc").val()}).done(function(a){null==a.erro?(M.toast({html:"Categoria cadastrada com sucesso!"}),$("#cat").append('<option value="'+a+'">'+$("#modalCat #nome").val()+"</option>"),$("select").formSelect()):M.toast({html:"Erro no cadastro."})})}),$("#modalCli a").click(function(){$.post(url+"/usuario/ajax/cliente",{nome:$("#modalCli #nome").val()}).done(function(a){null==a.erro?(M.toast({html:"Cliente cadastrado com sucesso!"}),$("#cli").append('<option value="'+a+'">'+$("#modalCli #nome").val()+"</option>"),$("select").formSelect()):M.toast({html:"Erro no cadastro."})})}),$("#send").click(function(){$.post(url+"/usuario/ajax/movimentacao",{valor:$("#valor").val(),desc:$("#mov_desc").val(),is_saida:$("#is_saida").prop("checked"),cli:$("#cli").val(),cat:$("#cat").val()}).done(function(a){if(null==a.erro){if(M.toast({html:"Movimentação cadastrada com sucesso!"}),0==$("#is_saida").prop("checked")){var o=0;$("#receber").html(parseFloat($("#receber").html())+parseFloat($("#valor").val()))}else{o=1;$("#pagar").html(parseFloat($("#pagar").html())+parseFloat($("#valor").val()))}card(o,a,$("#valor").val(),$("#cli option:selected").text(),$("#mov_desc").val(),$("#nome_hidden").val(),$("#cat option:selected").text())}else M.toast({html:"Erro na inserção da movimentação."})})}),$("#clean").click(function(){$("form").trigger("reset")})});